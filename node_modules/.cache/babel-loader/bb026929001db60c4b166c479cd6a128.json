{"ast":null,"code":"var _jsxFileName = \"/home/iholleratme/Development/code/phase-5/capstone/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [userToLogin, updateUserToLoginInfo] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [loggedInUser, setLoggedInUser] = useState(null);\n  const [user, setUser] = usestate;\n  useEffect(() => {\n    fetch(\"http://localhost:3000/userInSession\").then(r => r.json()).then(userAlreadyLoggedIn => {\n      setLoggedInUser(userAlreadyLoggedIn);\n    });\n  }, []); //if(!loggedInUser) return <Login setLoggedInUser={setLoggedInUser}/>\n\n  const handleLoginSubmit = synthEvent => {\n    synthEvent.preventDefault();\n    fetch(\"http://localhost:3000/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(userToLogin)\n    }).then(r => r.json()).then(pleaseWorkForUser => {\n      console.log(pleaseWorkForUser);\n      setLoggedInUser(pleaseWorkForUser);\n    });\n  };\n\n  const handleChangeForUserToLogin = synthEvent => {\n    console.log(synthEvent);\n    updateUserToLoginInfo({ ...userToLogin,\n      [synthEvent.target.name]: synthEvent.target.value\n    });\n  };\n\n  const handleLogout = () => {\n    fetch(\"http://localhost:3000/logout\", {\n      method: \"Delete\"\n    }).then(r => r.json()).then(deleteResponse => {\n      setLoggedInUser(null);\n    });\n  };\n\n  useEffect(() => {\n    fetch(\"http://localhost:3000/me\").then(response => {\n      if (response.ok) {\n        response.json().then(user => setUser(user));\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Login\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loginWrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loginLeft\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"loginLogo\",\n            children: \"Kicks r Us\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"loginDesc\",\n            children: \"Shop here for the latest sneakers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loginRight\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loginBox\",\n              children: [userToLogin ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: [\" You are signed as \", userToLogin.username, \"!\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleLogout,\n                  children: \" LogOut\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 9\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Login  to Sneakers-R-Us\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleLoginSubmit,\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"username\",\n                  onChange: handleChangeForUserToLogin,\n                  name: \"username\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  onChange: handleChangeForUserToLogin,\n                  name: \"password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  name: \"submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(Login, \"alHtE/nG9+DXAXwMUqE2BD9H1dY=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useEffect","useState","Login","userToLogin","updateUserToLoginInfo","username","password","loggedInUser","setLoggedInUser","user","setUser","usestate","fetch","then","r","json","userAlreadyLoggedIn","handleLoginSubmit","synthEvent","preventDefault","method","headers","body","JSON","stringify","pleaseWorkForUser","console","log","handleChangeForUserToLogin","target","name","value","handleLogout","deleteResponse","response","ok"],"sources":["/home/iholleratme/Development/code/phase-5/capstone/src/components/Login.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\n\n\nfunction Login(){\n    const [userToLogin, updateUserToLoginInfo] = useState(\n        {\n            username: \"\",\n            password:\"\"\n        } );\n\n\n    const [loggedInUser,setLoggedInUser] = useState(null)\n    const [user, setUser] = usestate\n    useEffect(\n    ()=>{fetch(\"http://localhost:3000/userInSession\")\n        .then(r=>r.json())\n        .then(userAlreadyLoggedIn =>{\n            setLoggedInUser(userAlreadyLoggedIn)\n        })\n    },[])\n\n    //if(!loggedInUser) return <Login setLoggedInUser={setLoggedInUser}/>\n    const handleLoginSubmit=(synthEvent)=>{\n    synthEvent.preventDefault()\n\n    fetch(\"http://localhost:3000/login\",\n    {\n    method: \"POST\",\n    headers:{\"Content-Type\": \"application/json\"},\n    body: JSON.stringify(userToLogin)\n    }\n    )\n    .then(r=>r.json())\n    .then(pleaseWorkForUser=>{\n    console.log(pleaseWorkForUser)\n    setLoggedInUser(pleaseWorkForUser)\n    })\n\n    }\n\n\n    const handleChangeForUserToLogin=(synthEvent)=>{\n    console.log(synthEvent)\n    updateUserToLoginInfo({...userToLogin,[synthEvent.target.name]:synthEvent.target.value})\n    }\n\n    const handleLogout=()=>{\n    fetch(\"http://localhost:3000/logout\",{method:\"Delete\"})\n    .then(r=>r.json())\n    .then(deleteResponse=>{\n\n        setLoggedInUser(null)\n    })\n    }\n\nuseEffect(()=>{\n    fetch(\"http://localhost:3000/me\").then((response)=>{\n        if(response.ok){\n            response.json().then((user)=>setUser(user))\n        }\n    })\n}, [])\n\n\n    return(\n        <>\n\n        <div className=\"Login\">\n         <div className=\"loginWrapper\">\n            <div className=\"loginLeft\">\n                <h3 className=\"loginLogo\">Kicks r Us</h3>\n                    <span className=\"loginDesc\">Shop here for the latest sneakers</span>\n                <div className=\"loginRight\">\n            <div className=\"loginBox\">\n        {\n            userToLogin ?\n            (<> \n            <h2> You are signed as {userToLogin.username}!</h2>\n  \n        <button onClick={handleLogout}> LogOut</button>\n            </>)\n            :\n            <></>\n        } \n                <h1>Login  to Sneakers-R-Us</h1>\n                    <form onSubmit={handleLoginSubmit}> \n                    <input type=\"username\"\n                    onChange={handleChangeForUserToLogin}\n                    name=\"username\"/>\n    \n                    <input type=\"password\"\n                    onChange={handleChangeForUserToLogin} \n                    name='password'/>\n  \n                    <button type= \"submit\"\n                    name=\"submit\"/>\n                        </form>\n                    </div>\n                 </div>\n            </div>\n         </div>\n    </div>\n    </>\n    )\n}\n\n\n\nexport default Login;"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;;;AAIA,SAASC,KAAT,GAAgB;EAAA;;EACZ,MAAM,CAACC,WAAD,EAAcC,qBAAd,IAAuCH,QAAQ,CACjD;IACII,QAAQ,EAAE,EADd;IAEIC,QAAQ,EAAC;EAFb,CADiD,CAArD;EAOA,MAAM,CAACC,YAAD,EAAcC,eAAd,IAAiCP,QAAQ,CAAC,IAAD,CAA/C;EACA,MAAM,CAACQ,IAAD,EAAOC,OAAP,IAAkBC,QAAxB;EACAX,SAAS,CACT,MAAI;IAACY,KAAK,CAAC,qCAAD,CAAL,CACAC,IADA,CACKC,CAAC,IAAEA,CAAC,CAACC,IAAF,EADR,EAEAF,IAFA,CAEKG,mBAAmB,IAAG;MACxBR,eAAe,CAACQ,mBAAD,CAAf;IACH,CAJA;EAKJ,CANQ,EAMP,EANO,CAAT,CAVY,CAkBZ;;EACA,MAAMC,iBAAiB,GAAEC,UAAD,IAAc;IACtCA,UAAU,CAACC,cAAX;IAEAP,KAAK,CAAC,6BAAD,EACL;MACAQ,MAAM,EAAE,MADR;MAEAC,OAAO,EAAC;QAAC,gBAAgB;MAAjB,CAFR;MAGAC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAerB,WAAf;IAHN,CADK,CAAL,CAOCU,IAPD,CAOMC,CAAC,IAAEA,CAAC,CAACC,IAAF,EAPT,EAQCF,IARD,CAQMY,iBAAiB,IAAE;MACzBC,OAAO,CAACC,GAAR,CAAYF,iBAAZ;MACAjB,eAAe,CAACiB,iBAAD,CAAf;IACC,CAXD;EAaC,CAhBD;;EAmBA,MAAMG,0BAA0B,GAAEV,UAAD,IAAc;IAC/CQ,OAAO,CAACC,GAAR,CAAYT,UAAZ;IACAd,qBAAqB,CAAC,EAAC,GAAGD,WAAJ;MAAgB,CAACe,UAAU,CAACW,MAAX,CAAkBC,IAAnB,GAAyBZ,UAAU,CAACW,MAAX,CAAkBE;IAA3D,CAAD,CAArB;EACC,CAHD;;EAKA,MAAMC,YAAY,GAAC,MAAI;IACvBpB,KAAK,CAAC,8BAAD,EAAgC;MAACQ,MAAM,EAAC;IAAR,CAAhC,CAAL,CACCP,IADD,CACMC,CAAC,IAAEA,CAAC,CAACC,IAAF,EADT,EAECF,IAFD,CAEMoB,cAAc,IAAE;MAElBzB,eAAe,CAAC,IAAD,CAAf;IACH,CALD;EAMC,CAPD;;EASJR,SAAS,CAAC,MAAI;IACVY,KAAK,CAAC,0BAAD,CAAL,CAAkCC,IAAlC,CAAwCqB,QAAD,IAAY;MAC/C,IAAGA,QAAQ,CAACC,EAAZ,EAAe;QACXD,QAAQ,CAACnB,IAAT,GAAgBF,IAAhB,CAAsBJ,IAAD,IAAQC,OAAO,CAACD,IAAD,CAApC;MACH;IACJ,CAJD;EAKH,CANQ,EAMN,EANM,CAAT;EASI,oBACI;IAAA,uBAEA;MAAK,SAAS,EAAC,OAAf;MAAA,uBACC;QAAK,SAAS,EAAC,cAAf;QAAA,uBACG;UAAK,SAAS,EAAC,WAAf;UAAA,wBACI;YAAI,SAAS,EAAC,WAAd;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADJ,eAEQ;YAAM,SAAS,EAAC,WAAhB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAFR,eAGI;YAAK,SAAS,EAAC,YAAf;YAAA,uBACJ;cAAK,SAAS,EAAC,UAAf;cAAA,WAEAN,WAAW,gBACV;gBAAA,wBACD;kBAAA,kCAAwBA,WAAW,CAACE,QAApC;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QADC,eAGL;kBAAQ,OAAO,EAAE2B,YAAjB;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QAHK;cAAA,gBADU,gBAOX,qCATA,eAWI;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAXJ,eAYQ;gBAAM,QAAQ,EAAEf,iBAAhB;gBAAA,wBACA;kBAAO,IAAI,EAAC,UAAZ;kBACA,QAAQ,EAAEW,0BADV;kBAEA,IAAI,EAAC;gBAFL;kBAAA;kBAAA;kBAAA;gBAAA,QADA,eAKA;kBAAO,IAAI,EAAC,UAAZ;kBACA,QAAQ,EAAEA,0BADV;kBAEA,IAAI,EAAC;gBAFL;kBAAA;kBAAA;kBAAA;gBAAA,QALA,eASA;kBAAQ,IAAI,EAAE,QAAd;kBACA,IAAI,EAAC;gBADL;kBAAA;kBAAA;kBAAA;gBAAA,QATA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAZR;YAAA;cAAA;cAAA;cAAA;YAAA;UADI;YAAA;YAAA;YAAA;UAAA,QAHJ;QAAA;UAAA;UAAA;UAAA;QAAA;MADH;QAAA;QAAA;QAAA;MAAA;IADD;MAAA;MAAA;MAAA;IAAA;EAFA,iBADJ;AAwCH;;GArGQ1B,K;;KAAAA,K;AAyGT,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}